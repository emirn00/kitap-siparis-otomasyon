<div class="admin-container">
  <!-- Header -->
  <div class="hueber-header">
    <div class="logo-container">
      <h1 class="hueber-logo">HUEBER</h1>
      <h2 class="header-subtitle">{{ 'logsTitle' | translate }}</h2>
      <a routerLink="/admin" class="help-link">{{ 'adminHome' | translate }}</a>
    </div>
  </div>

  <mat-card class="form-card">
    <mat-card-content>
      <h2 class="section-title">{{ 'logsSectionTitle' | translate }}</h2>
      <p class="section-description">
        {{ 'logsSectionDesc' | translate }}
      </p>

      <!-- Filters -->
      <div class="filters-section">
        <div class="filters-row">
          <mat-form-field appearance="outline" class="search-field">
            <mat-label>{{ 'search' | translate }}</mat-label>
            <input
              matInput
              [(ngModel)]="searchTerm"
              [ngModelOptions]="{ standalone: true }"
              (input)="onSearch()"
              [placeholder]="'searchLogsPlaceholder' | translate">
          </mat-form-field>

          <mat-form-field appearance="outline" class="level-field">
            <mat-label>{{ 'level' | translate }}</mat-label>
            <mat-select
              [(ngModel)]="levelFilter"
              [ngModelOptions]="{ standalone: true }"
              (selectionChange)="onLevelFilterChange()">
              <mat-option value="all">{{ 'all' | translate }}</mat-option>
              <mat-option value="INFO">{{ 'levelInfo' | translate }}</mat-option>
              <mat-option value="WARNING">{{ 'levelWarning' | translate }}</mat-option>
              <mat-option value="ERROR">{{ 'levelError' | translate }}</mat-option>
              <mat-option value="SUCCESS">{{ 'levelSuccess' | translate }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <!-- Stats -->
        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-value">{{ getTotalLogs() }}</div>
            <div class="stat-label">{{ 'totalLogs' | translate }}</div>
          </div>
          <div class="stat-card info">
            <div class="stat-value">{{ getInfoLogs() }}</div>
            <div class="stat-label">{{ 'levelInfo' | translate }}</div>
          </div>
          <div class="stat-card warning">
            <div class="stat-value">{{ getWarningLogs() }}</div>
            <div class="stat-label">{{ 'levelWarning' | translate }}</div>
          </div>
          <div class="stat-card error">
            <div class="stat-value">{{ getErrorLogs() }}</div>
            <div class="stat-label">{{ 'levelError' | translate }}</div>
          </div>
        </div>
      </div>

      <!-- Logs List -->
      <div class="logs-container" *ngIf="filteredLogs.length > 0">
        <div class="log-entry" *ngFor="let log of filteredLogs" [class]="'log-' + log.level.toLowerCase()">
          <div class="log-header">
            <span class="log-level" [class]="'level-' + log.level.toLowerCase()">
              {{ getLevelLabel(log.level) }}
            </span>
            <span class="log-date">{{ formatDate(log.timestamp) }}</span>
          </div>
          <div class="log-message">{{ log.message }}</div>
          <div class="log-details" *ngIf="log.details">
            <strong>{{ 'details' | translate }}:</strong> {{ log.details }}
          </div>
          <div class="log-meta" *ngIf="log.user || log.action">
            <span *ngIf="log.user" class="log-user">{{ log.user }}</span>
            <span *ngIf="log.action" class="log-action">{{ log.action }}</span>
          </div>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="filteredLogs.length === 0">
        <p>{{ 'noLogsFound' | translate }}</p>
        <p class="empty-hint">{{ 'emptyHintLogs' | translate }}</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
