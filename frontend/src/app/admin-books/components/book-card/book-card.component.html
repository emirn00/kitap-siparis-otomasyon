<mat-card class="book-card-inner">
  <div class="book-card-content">
    <div class="book-image-container">
      <img [src]="placeholderImage" alt="Book Cover" class="book-cover">
    </div>

    <div class="book-info">
      <div *ngIf="!isEditing" class="view-mode">
        <h3 class="book-title">{{ book.requestName }}</h3>
        <p class="book-isbn"><strong>ISBN:</strong> {{ book.isbn }}</p>
        <p class="book-order"><strong>Order:</strong> {{ book.orderName }}</p>
        <p *ngIf="book.lisencodeName" class="book-license"><strong>License:</strong> {{ book.lisencodeName }}</p>
        <p class="book-id-tag">#{{ book.id }}</p>
      </div>

      <div *ngIf="isEditing" class="edit-mode">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{ 'requestName' | translate }}</mat-label>
          <input matInput [(ngModel)]="book.requestName">
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{ 'orderName' | translate }}</mat-label>
          <input matInput [(ngModel)]="book.orderName">
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{ 'lisencodeName' | translate }}</mat-label>
          <input matInput [(ngModel)]="book.lisencodeName" [placeholder]="'optional' | translate">
        </mat-form-field>
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>{{ 'isbn' | translate }}</mat-label>
          <input matInput [(ngModel)]="book.isbn">
        </mat-form-field>
      </div>
    </div>
  </div>

  <mat-card-actions align="end" class="card-actions">
    <ng-container *ngIf="!isEditing && !isDeleting">
      <button mat-stroked-button color="primary" (click)="onEdit()" class="btn-put" title="PUT /api/books/{{ book.id }}">
        {{ 'edit' | translate }}
      </button>
      <button mat-stroked-button color="warn" (click)="onDelete()" class="btn-delete" title="DELETE /api/books/{{ book.id }}">
        {{ 'delete' | translate }}
      </button>
    </ng-container>

    <ng-container *ngIf="isEditing">
      <button mat-raised-button color="primary" (click)="onSave()">
        {{ 'save' | translate }}
      </button>
      <button mat-button (click)="onCancel()">{{ 'cancel' | translate }}</button>
    </ng-container>

    <ng-container *ngIf="isDeleting">
      <span class="delete-hint">{{ 'deleteConfirm' | translate }}</span>
      <button mat-raised-button color="warn" (click)="onConfirmDelete()">
        {{ 'deleteYes' | translate }}
      </button>
      <button mat-button (click)="onCancelDelete()">{{ 'cancel' | translate }}</button>
    </ng-container>
  </mat-card-actions>
</mat-card>